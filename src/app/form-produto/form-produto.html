<div class="container py-3">
  <h4 class="text-center text-success fw-bold mb-2">Anunciar Produto</h4>
  <p class="text-center text-muted mb-4 small">Complete as informações para publicar seu produto</p>

  <form (ngSubmit)="salvar()" #formProduto="ngForm">

    <!-- Foto e Título -->
    <div class="row g-2 mb-3">
      <div class="col-12 col-md-4">
        <label class="form-label small fw-bold">Foto do Produto</label>
        <input type="file" class="form-control form-control-sm" multiple />
        <small class="text-muted">JPG/PNG até 5MB</small>
      </div>
      <div class="col-12 col-md-8">
        <label class="form-label small fw-bold">Título do anúncio</label>
        <input type="text" class="form-control form-control-sm" placeholder="Título" [(ngModel)]="produto.titulo" name="titulo" required />
      </div>
    </div>

    <!-- Categoria, Condição e Preço -->
    <div class="row g-2 mb-3">
      <div class="col-12 col-md-4">
        <label class="form-label small fw-bold">Categoria</label>
        <select class="form-select form-select-sm" [(ngModel)]="produto.categoria" name="categoria" required>
          <option value="" disabled selected>Selecione</option>
          <option value="Eletrônicos">Eletrônicos</option>
          <option value="Veículos">Veículos</option>
          <option value="Roupas">Roupas</option>
          <option value="Móveis">Móveis</option>
          <option value="Esportes">Esportes</option>
          <option value="Brinquedos">Brinquedos</option>
          <option value="Instrumentos Musicais">Instrumentos Musicais</option>
          <option value="Imóveis">Imóveis</option>
          <option value="Serviços">Serviços</option>
          <option value="Outros">Outros</option>
        </select>
      </div>
      <div class="col-12 col-md-4">
        <label class="form-label small fw-bold">Condição</label>
        <select class="form-select form-select-sm" [(ngModel)]="produto.condicao" name="condicao" required>
          <option value="" disabled selected>Selecione</option>
          <option value="Novo">Novo</option>
          <option value="Semi-novo">Semi-novo</option>
          <option value="Usado">Usado</option>
          <option value="Com defeito">Com defeito</option>
        </select>
      </div>
      <div class="col-12 col-md-4">
        <label class="form-label small fw-bold">Preço (R$)</label>
        <input type="number" class="form-control form-control-sm" placeholder="Preço" [(ngModel)]="produto.preco" name="preco" min="0" required />
      </div>
    </div>

    <!-- Descrição -->
    <div class="mb-3">
      <label class="form-label small fw-bold">Descrição</label>
      <textarea class="form-control form-control-sm" rows="2" placeholder="Descrição do produto..." [(ngModel)]="produto.descricao" name="descricao"></textarea>
    </div>

    <!-- Pagamento e Troca -->
    <div class="row g-2 mb-3 align-items-center">
      <div class="col-9 col-md-10">
        <label class="form-label small fw-bold">Formas de pagamento</label>
        <select class="form-select form-select-sm" [(ngModel)]="produto.formasPagamento" name="formaPagamento" required>
          <option value="" disabled selected>Selecione</option>
          <option value="Dinheiro">Dinheiro</option>
          <option value="Pix">Pix</option>
          <option value="Cartão de crédito">Cartão de crédito</option>
          <option value="Cartão de débito">Cartão de débito</option>
          <option value="Transferência">Transferência</option>
        </select>
      </div>
      <div class="col-3 col-md-2 text-center">
        <div class="form-check mt-2">
          <input class="form-check-input" type="checkbox" [(ngModel)]="produto.aceitaTroca" name="aceitaTroca" />
          <label class="form-check-label small">Troca</label>
        </div>
      </div>
    </div>

    <!-- Cidade e Entrega -->
    <div class="row g-2 mb-3">
      <div class="col-6">
        <label class="form-label small fw-bold">Cidade</label>
        <select class="form-select form-select-sm" [(ngModel)]="produto.cidade" name="cidade" required>
          <option value="" selected disabled>Selecione</option>
          <option value="Porto Alegre">Porto Alegre</option>
          <option value="Canoas">Canoas</option>
          <option value="Gravataí">Gravataí</option>
          <option value="Viamão">Viamão</option>
          <option value="São Leopoldo">São Leopoldo</option>
          <option value="Pelotas">Pelotas</option>
          <option value="Santa Maria">Santa Maria</option>
          <option value="Caxias do Sul">Caxias do Sul</option>
          <option value="Rio Grande">Rio Grande</option>
          <option value="Outras">Outras</option>
        </select>
      </div>
      <div class="col-6">
        <label class="form-label small fw-bold">Entrega</label>
        <select class="form-select form-select-sm" [(ngModel)]="produto.opcoesEntrega" name="entrega">
          <option value="Retirada no local">Retirada no local</option>
          <option value="Envio via correios">Envio via correios</option>
          <option value="Entrega combinada">Entrega combinada</option>
        </select>
      </div>
    </div>

    <!-- Contato -->
    <div class="mb-3">
      <label class="form-label small fw-bold">Contato</label>
      <input type="text" class="form-control form-control-sm" placeholder="Número (ex: 51999999999)" [(ngModel)]="produto.contato" name="contato" maxlength="11" (input)="validarCelular()" required />
      <small class="text-danger" *ngIf="erroContato">Número inválido! Deve conter 11 dígitos (DDD + número).</small>
    </div>

    <!-- Botão -->
    <div class="d-grid mb-3">
      <button type="submit" class="btn btn-success btn-sm fw-bold">PUBLICAR</button>
    </div>

  </form>

  <pre class="small">{{ produto | json }}</pre>
</div>
