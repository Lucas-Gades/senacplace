<div class="container mt-4">
  <h2 class="mb-4">Meus Produtos</h2>

  <div class="mb-3">
    <input 
      type="text" 
      class="form-control" 
      placeholder="Pesquisar..." 
      [(ngModel)]="nomePesquisa">
  </div>

  @if((meusProdutos | filtroPesquisa:nomePesquisa).length > 0) {

    <div class="table-responsive shadow-sm rounded">
      <table class="table table-striped table-hover align-middle mb-0">
        <thead>
          <tr>
            <th>T√≠tulo</th>
            <th class="d-none d-md-table-cell">Pre√ßo</th>
            <th class="d-none d-md-table-cell">Categoria</th> 
            <th class="text-end">A√ß√µes</th>
          </tr>
        </thead>
        <tbody>
          @for(prod of meusProdutos | filtroPesquisa:nomePesquisa; track prod.id) {
          <tr>
            <td>{{prod.titulo}}</td>
            <td class="d-none d-md-table-cell"> {{prod.preco | moeda}} </td>
            <td class="d-none d-md-table-cell">{{prod.categoria}}</td>
            <td class="text-end">
              <div class="d-flex flex-wrap justify-content-end gap-2">
                <button class="btn btn-primary btn-sm px-2 py-1 text-truncate" routerLink="/edit/{{prod.id}}">
                  ‚úèÔ∏è
                </button>
                <button class="btn btn-danger btn-sm px-2 py-1 text-truncate" (click)="deletar(prod.id)">
                  üóëÔ∏è
                </button>
                <button class="btn btn-secondary btn-sm px-2 py-1 text-truncate" (click)="modalRef?.abrir()">
                  üëÅÔ∏è
                </button>
              </div>
              <app-modal-detalhe-produto #modalRef [produto]="prod"></app-modal-detalhe-produto>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>

  } @else {
    <p class="text-center text-muted mt-4">
      Voc√™ ainda n√£o possui produtos cadastrados.
    </p>
  }
</div>
